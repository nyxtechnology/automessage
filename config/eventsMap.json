{
  "boardActions": [
    {
      "conditions": {
        "post.header.x-forwarded-for": "178.128.181.251",
        "post.body.description": "act-completeChecklist",
        "post.body.user": "gilberto.souza"
      },
      "classes": [
        {
          "class": "App\\Http\\Controllers\\TelegramController",
          "methods": [
            {
              "sendMessage": {
                "to": "123456789",
                "message": "post.body.text"
              }
            }
          ]
        },
        {
          "class": "App\\Http\\Controllers\\SendMailController",
          "methods": [
            {
              "sendMail": {
                "to": "admin@nyx.tc",
                "subject": "post.body.description",
                "message": "post.body.text",
                "template": "movedCard",
                "templateVariables": {
                  "card": "post.body.card",
                  "user": "post.body.user"
                }
              }
            },
            {
              "sendMail": {
                "to": "gilberto.souza@nyx.tc",
                "subject": "post.body.description",
                "message": "post.body.text",
                "template": "youMovedCard"
              }
            }
          ]
        }
      ]
    },
    {
      "conditions": {
        "post.header.from": "https://board.nyx.tc",
        "post.body.description": "act-moveCard",
        "post.body.user": "edmar.souza"
      },
      "classes": [
        {
          "class": "App\\Http\\Controllers\\TelegramController",
          "methods": [
            {
              "sendMessage": {
                "to": "987654321",
                "message": "post.body.text"
              }
            }
          ]
        }
      ]
    }
  ],
  "PaymentActions": [
    {
      "conditions": {
        "post.header.from": "https://marketing.place.nyx.tc",
        "post.body.event": "startPayment"
      },
      "classes": [
        {
          "class": "App\\Http\\Controllers\\SchedulingController",
          "methods": [
            {
              "messageScheduling": {
                "dateDelivery": {
                  "startDate": "post.body.date_event",
                  "operation": "+ 3 days"
                },
                "waysDelivery": [
                  {
                    "class": "App\\Http\\Controllers\\TelegramController",
                    "methods": [
                      {
                        "sendMessage": {
                          "to": "post.body.to",
                          "message": "post.body.text"
                        }
                      }
                    ]
                  }
                ],
                "conditionsStopDelivery": {
                  "post.body.cardId": "wwutm7rsiJPX5ar3z",
                  "post.header.x-forwarded-for": "178.128.181.251",
                  "post.body.description": "act-moveCard"
                }
              }
            }
          ]
        }
      ]
    }
  ]
}
